package assignment2;

import java.util.*;
import java.io.*;

public class Game {
	boolean isTesting;
	
	public Game(boolean isTesting) {
		this.isTesting = isTesting;
	}
	
	public void runGame() {
		System.out.println("Do you want to play a new game? (Y/N) :");
		Scanner scan = new Scanner(System.in);
		String start = scan.next();
		System.out.println(start);
		if(start.equals("Y")) {
			startGame(scan);
		}		
	}
	
	public void startGame(Scanner scan) {
		SecretCodeGenerator code = SecretCodeGenerator.getInstance();
		System.out.println("Secret code: "+ code.getNewSecretCode());
		System.out.println();
		int numTurns = GameConfiguration.guessNumber;
		boolean win = false;
		boolean keepPlaying = true;
		
		while(keepPlaying) {	
			while(!win && numTurns > 0) {
				System.out.println("You have " + numTurns + " guess(es) left.");
				numTurns--;
			}
			System.out.println();
			System.out.println("Do you want to play a new game? (Y/N) :");
			String answer = scan.next();
			if(answer.equals("N")) {
				keepPlaying = false;
			}
			else {
				numTurns = GameConfiguration.guessNumber;
				win = false;
			}			
		}
	}
	

}
